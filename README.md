# Project-2020
## Install Raspberry Pi OS Lite
Use the [Raspberry Pi Imager](https://www.raspberrypi.org/downloads.../) to install Raspberry Pi OS Lite on SD Card.
## Set up IP and use SSH to connect Raspberry Pi
* Open file config.txt in SD Card and add this line.
```bash
enable_uart=1
```
Now you can use Raspberry via throughout UART with (COMPORT and BAURATE = 115200)
* Login 
```bash
username: pi
password: raspberry
```
* Set up IP
```bash
nano /etc/dhcpcd.conf
```
Edit this file
```bash
interface eth0
static ip_address=192.168.50.35/24
static ip6_address=fd51:42f8:caae:d92e::ff/64
static routers=192.168.50.1
static domain_name_servers=192.168.50.1 8.8.8.8 fd51:42f8:caae:d92e::1
```
* Open ssh in raspberry
```bash 
sudo raspi-config
```
Choose -> Interface Options -> SSH -> Enable -> Finish
Then
```bash
sudo reboot
```
- sudo chown motion:motion /var/run/motion
- console=serial0,115200 console=tty1 root=PARTUUID=e6c6c0ec-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait
- sudo apt-get ––purge remove motion
- /etc/motion/camera1.conf
# This config file was generated by motion 4.1.1
- camera_id = 1
- videodevice /dev/video0
- input -1
- target_dir /home/bkjaya1952/Videos/bkj/C1
- picture_filename CAM1_%v-%Y%m%d%H%M%S-%q
- stream_port 8081

#flip_axis v

# Install openvpn
- sudo apt-get update
- sudo apt-get install openvpn
* Copy file client.conf in /etc/openvpn/ 
* Copy file pass.txt in /var/www/
* Then run command:
- sudo openvpn /etc/openvpn/client.conf
# Setting Openvpn Server in Asus Router
- ![First](https://raw.githubusercontent.com/Eric-nguyen1402/image_project/master/Screenshot%20(32).png)
- At VPN details choose Advanced settings:
- Then setting follow this :
- ![Second](https://raw.githubusercontent.com/Eric-nguyen1402/image_project/master/Screenshot%20(34).png)
- In other to clients connect together, you must set the Users at Allows Clients table like this :
- ![Third](https://raw.githubusercontent.com/Eric-nguyen1402/image_project/master/Screenshot%20(36).png)
- Assign static IP for OpenVPN:
1. Login into ASUS Router (username + Password)
2. Type: cd /jffs/scripts
3. Type: cat clientconnect.sh
4. Copy this text:
- #!/bin/sh
- if["$username"="abcd"];
- then
-   echo "ifconfig-push 10.8.0.6 10.8.0.5">>$1
- elif["$username"="abc"];
- then
-   echo "ifconfig-push 10.8.0.22 10.8.0.21">>$1
- fi
